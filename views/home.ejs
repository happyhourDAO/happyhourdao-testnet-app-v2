<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>happyhourDAO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body class="position-relative">
    <div id="walletDetails" class="position-absolute top-0 end-0 m-3">
      <button class="btn btn-outline-primary" id="connectWallet">Connect Metamask</button>
    </div>
    <div id="topLeft">
      <h1 class="m-4"><a href="https://www.happyhourdao.xyz/" target="_blank">happyhourDAO</a><span class="text-white">/testnet</span></h1>
      <p class="m-4 text-white-50 fst-italic">Dashboard powered on the Ropsten Test Network.</p>
    </div>
    <div id="contractDetails" class="position-absolute bottom-0 start-0 m-3">
      <div id="HOURcontractAddress">
        <p id="HOURcontractText" class="HCT btn text-white-50 border rounded-pill p-2" tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="$HOUR token contract address" data-bs-content="Copy 2 add $HOUR to your wallet.">Click 2 Copy $HOUR Contract Address</p>
        <p id="copyThisHOUR" hidden>0xd6685dEd2108C04d08384016CCCe8E2928B0014E</p>
        <div class="copyfunction">
          <script>
            function copyHOUR(copyId) {
              var $inp = $("<input>")
              $("body").append($inp)
              $inp.val($("" + copyId).text()).select()
              document.execCommand("copy")
              $inp.remove()

              $(".HCT").fadeOut(500, function () {
                $(".HCT").fadeIn()
              })
            }

            $(document).ready(function () {
              $("#HOURcontractText").click(function () {
                copyHOUR("#copyThisHOUR")
              })
            })
          </script>
        </div>
      </div>
      <div id="DRNKcontractAddress">
        <p id="DRNKcontractText" class="DCT btn text-white-50 border rounded-pill p-2" tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="$DRNK token contract address" data-bs-content="Copy 2 add $DRNK to your wallet.">Click 2 Copy $DRNK Contract Address</p>
        <p id="copyThisDRNK" hidden>0x8b3cF232cA2476Bb954FfE2736ba83E99Cd51Fa2</p>
        <div class="copyfunction">
          <script>
            function copyDRNK(copyId) {
              var $inp = $("<input>")
              $("body").append($inp)
              $inp.val($("" + copyId).text()).select()
              document.execCommand("copy")
              $inp.remove()

              $(".DCT").fadeOut(500, function () {
                $(".DCT").fadeIn()
              })
            }

            $(document).ready(function () {
              $("#DRNKcontractText").click(function () {
                copyDRNK("#copyThisDRNK")
              })
            })
          </script>
        </div>
      </div>
    </div>

    <div style="height: 500px; width: 500px" class="overflow-auto dashboard container rounded border border-primary p-3 mt-5 text-light text-center">
      <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-registerPDE-tab" data-bs-toggle="pill" data-bs-target="#pills-registerPDE" type="button" role="tab" aria-controls="pills-registerPDE" aria-selected="true">Register PDE</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-starthappyHOUR-tab" data-bs-toggle="pill" data-bs-target="#pills-starthappyHOUR" type="button" role="tab" aria-controls="pills-starthappyHOUR" aria-selected="false">Start HH</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-endhappyHOUR-tab" data-bs-toggle="pill" data-bs-target="#pills-endhappyHOUR" type="button" role="tab" aria-controls="pills-endhappyHOUR" aria-selected="false">End HH</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-mintDRNK-tab" data-bs-toggle="pill" data-bs-target="#pills-mintDRNK" type="button" role="tab" aria-controls="pills-mintDRNK" aria-selected="false">Mint $DRNK</button>
        </li>
      </ul>

      <div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-registerPDE" role="tabpanel" aria-labelledby="pills-registerPDE-tab">
          <div class="container position-relative bg-secondary pt-2 pb-2 rounded mb-2">
            <div>Register your bar/club/restaurant as a Participating Drinking Establishment in the happyhourDAO network.</div>
          </div>
          <div class="input-group d-flex flex-column">
            <form class="text-light" action="" method="" id="PDEsubmission">
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="name" name="name" type="text" placeholder="PDE Name" autofocus required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Enter the name of your F&B merchant." data-bs-content="This will be the recognized official name of your F&B merchant stored on the blockchain for your PDE." />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="location" name="location" type="text" placeholder="PDE City Location" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="What city is your F&B merchant located in?" data-bs-content="Allow drinkers and members of the happyhourDAO to easily find your location by listing your city location." />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="ETHaddress" name="ETHaddress" type="text" placeholder="ETH Address of PDE Owner" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="PDE Owner's ETH Address." data-bs-content="How else are you going to be able to earn commission on every $HOUR earned by your patrons?" />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="secretAccessCode" name="secretAccessCode" type="text" placeholder="PDE's Secret Access Code" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Input a secret access code." data-bs-content="The purpose of the secret access code to only allow patrons physically at your location to start a happy hour session in earning $HOUR." />
              </div>
              <div class="d-grid gap-2 m-1">
                <button class="btn btn-outline-primary fw-bolder" id="">Register</button>
              </div>
            </form>
          </div>
        </div>
        <div class="tab-pane fade" id="pills-starthappyHOUR" role="tabpanel" aria-labelledby="pills-starthappyHOUR-tab">
          <div class="container position-relative bg-secondary pt-2 pb-2 rounded mb-2">
            <div>Start your happy hour session and start earning $HOUR. Minimum deposit of 0.01 ETH required during session. Deposit will be returned upon end of session.</div>
          </div>
          <div class="input-group d-flex flex-column">
            <form action="" id="startHOUR">
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="PDEid" type="text" placeholder="PDE ID" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Enter in the PDE ID of your PDE of happy hour choice." data-bs-content="The PDE ID is what will be linked to your happy hour session in the form of a Drinking ID to PDE ID link." />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="PDEaccessCode" type="text" placeholder="PDE Access Code" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Shh...What's the secret access code?" data-bs-content="To make sure you're actually at the physical location of the PDE. Go ask the bartender." />
              </div>
              <div class="d-grid gap-2 m-1">
                <button class="btn btn-outline-primary fw-bolder">Start $HOUR</button>
              </div>
            </form>
          </div>
        </div>
        <div class="tab-pane fade" id="pills-endhappyHOUR" role="tabpanel" aria-labelledby="pills-endhappyHOUR-tab">
          <div class="container position-relative bg-secondary pt-2 pb-2 rounded mb-2">
            <div>Wrap up your current happy hour session to receive earned $HOUR and initial 0.01 ETH deposit.</div>
          </div>
          <div class="input-group d-flex flex-column">
            <form action="" id="endHOUR">
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="wiped" type="text" placeholder="ETH Address of Current Drinker" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Feeling wiped from happy hour?" data-bs-content="End your session by inputting the same ETH address you started your current session with. This will allow you to receive your earned $HOUR tokens along with the initial 0.01 ETH deposit." />
              </div>
              <div class="d-grid gap-2 m-1">
                <button class="btn btn-outline-primary fw-bolder">End $HOUR</button>
              </div>
            </form>
          </div>
        </div>
        <div class="tab-pane fade" id="pills-mintDRNK" role="tabpanel" aria-labelledby="pills-mintDRNK-tab">
          <div class="container position-relative bg-secondary pt-2 pb-2 rounded mb-2">
            <div>Burn your earned $HOUR to mint the $DRNK governance token.</div>
          </div>
          <div class="input-group d-flex flex-column">
            <form action="" id="mintDRNK">
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="DRNKcontractAdd" type="text" placeholder="$DRNK Contract Address" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Input the contract address of the $DRNK token contract." data-bs-content="To make sure you are burning your $HOUR tokens to the correct contract." />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="to" type="text" placeholder="ETH Address" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="Which address do you want to get $DRNK?" data-bs-content="You can use your current ETH address that holds $HOUR or another ETH address." />
              </div>
              <div class="m-1">
                <input class="form-control bg-dark bg-gradient text-light" id="burnAmount" type="text" placeholder="$HOUR Burn Amount" required tabindex="0" data-bs-toggle="popover" data-bs-placement="right" data-bs-trigger="hover" title="How much in $HOUR do you want to burn?" data-bs-content="Minimum amount of $HOUR to burn is 2000 $HOUR tokens." />
              </div>
              <div class="d-grid gap-2 m-1">
                <button class="btn btn-outline-primary fw-bolder">Mint $DRNK</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="script.js"></script>

    <script>
      var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
      var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl)
      })

      var popover = new bootstrap.Popover(document.querySelector(".popover-dismiss"), {
        trigger: "focus"
      })
    </script>
  </body>
</html>
